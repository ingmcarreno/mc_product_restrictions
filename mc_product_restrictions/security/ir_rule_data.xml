<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="product_template_restriction_rule" model="ir.rule">
        <field name="name">Product Template Restriction</field>
        <field name="model_id" ref="product.model_product_template"/>
        <field name="groups" eval="[(4, ref('mc_product_restrictions.group_product_restriction'))]"/>
        <field name="domain_force">['|', ("restricted_user_ids", "=", False), ("restricted_user_ids", "in", [user.id])]</field>
    </record>

    <record id="product_product_restriction_rule" model="ir.rule">
        <field name="name">Product Variant Restriction</field>
        <field name="model_id" ref="product.model_product_product"/>
        <field name="groups" eval="[(4, ref('mc_product_restrictions.group_product_restriction'))]"/>
        <field name="domain_force">['|', ("product_tmpl_id.restricted_user_ids", "=", False), ("product_tmpl_id.restricted_user_ids", "in", [user.id])]</field>
    </record>

    <record id="account_account_restriction_rule" model="ir.rule">
        <field name="name">Account Restriction</field>
        <field name="model_id" ref="account.model_account_account"/>
        <field name="groups" eval="[(4, ref('mc_product_restrictions.group_product_restriction'))]"/>
        <field name="domain_force">['|', ("restricted_user_ids", "=", False), ("restricted_user_ids", "in", [user.id])]</field>
    </record>
</odoo>
